## stateless(무상태 프로토콜)

- 서버가 클라이언트의 상태를 보존하지 않는 것을 의미한다.

### 무상태를 언제 사용하면 좋을까?

1. 서버 장애 발생시 피해가 큰 경우

2. 수강신청, 선착순 이벤트와 같이 같은 시간에 많은 트래픽이 발생하는 경우

## stateful(상태유지 프로토콜)

- 서버가 클라이언트의 상태를 보존하는 것을 의미한다.

### 상태유지를 언제 사용하면 좋을까?

- 로그인 상태를 유지해야 하는 경우

## 스케일업, 스케일아웃

### 스케일업(수직 스케일링)

- 기존 서버를 높은 사양으로 업그레이드 하는 것을 말한다.
- 하드웨어 장비의 성능을 높임
- 수직 확장이며, 성능 확장에 한계가 있다.
- 성능 증가시 비용이 높다.
- 한 대의 서버에  부하가 집중된다.

### 스케일아웃(수평 스케일링)

- 장비를 추가해서 확장하는 방식
- 하나의 장비가 처리하던 일을 여러 장비가 나누어 처리
- 수평 확장이며, 지속적 확장이 가능
- 비교적 저렴하다.


참고 : https://tecoble.techcourse.co.kr/post/2021-10-12-scale-up-scale-out/

## 비연결성

- HTTP에서는 실제로 요청을 주고 받을 때만 연결을 유지하고 응답을 주고나면 TCP/IP 연결을 끊는다.


## TCP는 연결성, HTTP는 비연결성인 이유

- TCP는 데이터의 손실, 순서가 바뀌어을 경우 데이터를 다시 요청하여 신뢰성 있는 데이터를 받기 위해서
- HTTP는 요청이 있을 때만 연결을 유지하고 나머지는 연결을 유지하지 않음으로서 자원을 효율적으로 사용하기 위해서

## http(HyperText Transport Protocol)

- 하이퍼텍스트(HyperText)를 전송(Transfer)하기 위해 사용되는 통신 규약(Protocol)이다

## https(HyperText Transport Protocol Secure)

- http + ssl(Secure Socket Layer)
- 클라이언트가 서버로 보내는 정보를 암호화하여 제 3자가 볼 수 없도록 한다.
- 접속한 사이트가 믿을만한 사이트인지 확인해준다.

### https의 과정

1. CA에 SSL 인증서 등록 과정

- https 형식인 사이트에서 CA로 공개키방식(비대칭키방식)을 활용해 서버의 공개키, 서버의 데이터를 보낸다. 
- CA에서 검증을 통과하면 서버의 공개키, 서버의 데이터를 공개키방식으로 암호화하여 인증서를 발급하고 서버에 인증서를 보내고 클라이언트에는 CA의 공개키를 저장합니다.

2. handshack과정

- 클라이언트에서는 서버가 신뢰할 수 있는 사이트인지 모르기 때문에 서버로 부터 인증서를 요청합니다.
- 클라이언트는 인증서를 받고 CA의 공개키를 통해 복호화를 진행해서 복호화가 되면 신뢰할 수 있는 사이트라는 것을 알 수 있습니다.(인증서는 CA의 개인키로 암호화하였기 때문에 CA의 공개키로만 복호화가 가능하다)
- 인증서안에는 서버의 공개키가 저장되어 있는데 클라이언트의 대칭키(개인키)를 서버의 공개키로 암호화하여 서버로 전달합니다.
- 서버에서는 서버의 개인키로 복호화하여 클라이언트의 대칭키(개인키)를 갖게 된다.
- 클라이언트의 대칭키(개인키)에서 세션키를 생성하고 대칭방식으로 암호된 데이터를 클라이언트와 서버가 송수신한다.

## TLS(Transport Layer Security)

- SSL이 최신버전으로 변경되면서 이름이 변경되었다. (아직까지 SSL과 TLS를 혼용해서 사용해서 같다고 본다)
- 위에 hansshake과정은 TLS 과정을 통해 진행된다.

1. 인증 : 상대 사이트에 대한 신뢰성 인증
2.  암호화 : 다양한 암호화 알고리즘을 이용하여 메시지 암호화
3.  무결성 : 송/수신 메시지에 대한 Checksum기능, 변조 방지





